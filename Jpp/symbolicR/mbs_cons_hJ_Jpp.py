#
#	MBsysTran - Release 8.1
#
#	Copyright 
#	Universite catholique de Louvain (UCLouvain) 
#	Mechatronic, Electrical Energy, and Dynamic systems (MEED Division) 
#	2, Place du Levant
#	1348 Louvain-la-Neuve 
#	Belgium 
#
#	http://www.robotran.be 
#
#	==> Generation Date: Fri Mar 28 02:55:51 2025
#	==> using automatic loading with extension .mbs 
#
#	==> Project name: Jpp
#
#	==> Number of joints: 24
#
#	==> Function: F8 - Constraints and Constraints Jacobian(h, J)
#
#	==> Git hash: a9259031f25de7c9f86dbac08464ef31e84ae3b1
#
#	==> Input XML
#

from math import sin, cos

def cons_hJ(h, Jac, s):
    q = s.q
 
# Trigonometric functions

    S12 = sin(q[12])
    C12 = cos(q[12])
    S7 = sin(q[7])
    C7 = cos(q[7])
    S8 = sin(q[8])
    C8 = cos(q[8])
    S9 = sin(q[9])
    C9 = cos(q[9])
    S13 = sin(q[13])
    C13 = cos(q[13])
    S14 = sin(q[14])
    C14 = cos(q[14])
    S15 = sin(q[15])
    C15 = cos(q[15])
    S18 = sin(q[18])
    C18 = cos(q[18])
    S23 = sin(q[23])
    C23 = cos(q[23])
    S24 = sin(q[24])
    C24 = cos(q[24])
    S19 = sin(q[19])
    C19 = cos(q[19])
    S20 = sin(q[20])
    C20 = cos(q[20])
 
# Augmented Joint Position Vectors

 
# Constraints and Constraints Jacobian

    RLlp1_22 = s.dpt[2,29]*C12
    RLlp1_32 = s.dpt[2,29]*S12
    POlp1_22 = RLlp1_22+s.dpt[2,3]
    POlp1_32 = RLlp1_32+s.dpt[3,3]
    ROlp2_82 = -C7*S8-S7*C8
    ROlp2_92 = C7*C8-S7*S8
    RLlp2_22 = s.dpt[2,23]*C7
    RLlp2_32 = s.dpt[2,23]*S7
    POlp2_22 = RLlp2_22+s.dpt[2,2]
    RLlp2_24 = ROlp2_82*s.dpt[3,25]
    RLlp2_34 = ROlp2_92*s.dpt[3,25]
    POlp2_24 = POlp2_22+RLlp2_24
    POlp2_34 = RLlp2_32+RLlp2_34
    JTlp2_24_1 = -RLlp2_32-RLlp2_34
    JTlp2_34_1 = RLlp2_22+RLlp2_24
    JTlp2_14_3 = -RLlp2_24*ROlp2_92+RLlp2_34*ROlp2_82
    h_1 = -s.dpt[1,2]+s.dpt[1,3]
    h_2 = POlp1_22-POlp2_24
    h_3 = POlp1_32-POlp2_34
    ROlp3_82 = -C13*S14-S13*C14
    ROlp3_92 = C13*C14-S13*S14
    RLlp3_22 = s.dpt[2,30]*C13
    RLlp3_32 = s.dpt[2,30]*S13
    POlp3_22 = RLlp3_22+s.dpt[2,5]
    RLlp3_24 = ROlp3_82*s.dpt[3,32]
    RLlp3_34 = ROlp3_92*s.dpt[3,32]
    POlp3_24 = POlp3_22+RLlp3_24
    POlp3_34 = RLlp3_32+RLlp3_34
    JTlp3_24_1 = -RLlp3_32-RLlp3_34
    JTlp3_34_1 = RLlp3_22+RLlp3_24
    JTlp3_14_3 = -RLlp3_24*ROlp3_92+RLlp3_34*ROlp3_82
    RLlp4_22 = s.dpt[2,36]*C18
    RLlp4_32 = s.dpt[2,36]*S18
    POlp4_22 = RLlp4_22+s.dpt[2,6]
    POlp4_32 = RLlp4_32+s.dpt[3,6]
    h_4 = s.dpt[1,5]-s.dpt[1,6]
    h_5 = POlp3_24-POlp4_22
    h_6 = POlp3_34-POlp4_32
    RLlp5_12 = s.dpt[1,54]*C23-s.dpt[2,54]*S23
    RLlp5_22 = s.dpt[1,54]*S23+s.dpt[2,54]*C23
    POlp5_12 = RLlp5_12+s.dpt[1,17]
    POlp5_22 = RLlp5_22+s.dpt[2,17]
    RLlp6_12 = s.dpt[1,56]*C24-s.dpt[2,56]*S24
    RLlp6_22 = s.dpt[1,56]*S24+s.dpt[2,56]*C24
    POlp6_12 = RLlp6_12+s.dpt[1,18]
    POlp6_22 = RLlp6_22+s.dpt[2,18]
    Plp11 = POlp5_12-POlp6_12
    Plp21 = POlp5_22-POlp6_22
    P2lp1 = Plp11*Plp11+Plp21*Plp21
    l2rod1 = s.lrod[1]*s.lrod[1]
    h_7 = (0.50)*(P2lp1-l2rod1)
    Jac_7_23 = -Plp11*RLlp5_22+Plp21*RLlp5_12
    Jac_7_24 = Plp11*RLlp6_22-Plp21*RLlp6_12
    ROlp7_52 = C7*C8-S7*S8
    ROlp7_62 = C7*S8+S7*C8
    ROlp7_82 = -C7*S8-S7*C8
    ROlp7_92 = C7*C8-S7*S8
    ROlp7_23 = ROlp7_52*S9
    ROlp7_33 = ROlp7_62*S9
    RLlp7_22 = s.dpt[2,23]*C7
    RLlp7_32 = s.dpt[2,23]*S7
    POlp7_22 = RLlp7_22+s.dpt[2,2]
    RLlp7_14 = s.dpt[1,27]*C9
    RLlp7_24 = ROlp7_23*s.dpt[1,27]
    RLlp7_34 = ROlp7_33*s.dpt[1,27]
    POlp7_14 = RLlp7_14+s.dpt[1,2]
    POlp7_24 = POlp7_22+RLlp7_24
    POlp7_34 = RLlp7_32+RLlp7_34
    JTlp7_24_1 = -RLlp7_32-RLlp7_34
    JTlp7_34_1 = RLlp7_22+RLlp7_24
    JTlp7_14_3 = -RLlp7_24*ROlp7_92+RLlp7_34*ROlp7_82
    JTlp7_24_3 = RLlp7_14*ROlp7_92
    JTlp7_34_3 = -RLlp7_14*ROlp7_82
    RLlp8_12 = s.dpt[1,53]*C23-s.dpt[2,53]*S23
    RLlp8_22 = s.dpt[1,53]*S23+s.dpt[2,53]*C23
    POlp8_12 = RLlp8_12+s.dpt[1,17]
    POlp8_22 = RLlp8_22+s.dpt[2,17]
    Plp12 = POlp7_14-POlp8_12
    Plp22 = POlp7_24-POlp8_22
    P2lp2 = POlp7_34*POlp7_34+Plp12*Plp12+Plp22*Plp22
    l2rod2 = s.lrod[2]*s.lrod[2]
    h_8 = (0.50)*(P2lp2-l2rod2)
    Jac_8_7 = JTlp7_24_1*Plp22+JTlp7_34_1*POlp7_34
    Jac_8_8 = POlp7_34*RLlp7_24-Plp22*RLlp7_34
    Jac_8_9 = JTlp7_14_3*Plp12+JTlp7_24_3*Plp22+JTlp7_34_3*POlp7_34
    Jac_8_23 = Plp12*RLlp8_22-Plp22*RLlp8_12
    RLlp9_12 = s.dpt[1,55]*C24-s.dpt[2,55]*S24
    RLlp9_22 = s.dpt[1,55]*S24+s.dpt[2,55]*C24
    POlp9_12 = RLlp9_12+s.dpt[1,18]
    POlp9_22 = RLlp9_22+s.dpt[2,18]
    ROlp10_52 = C13*C14-S13*S14
    ROlp10_62 = C13*S14+S13*C14
    ROlp10_82 = -C13*S14-S13*C14
    ROlp10_92 = C13*C14-S13*S14
    ROlp10_23 = ROlp10_52*S15
    ROlp10_33 = ROlp10_62*S15
    RLlp10_22 = s.dpt[2,30]*C13
    RLlp10_32 = s.dpt[2,30]*S13
    POlp10_22 = RLlp10_22+s.dpt[2,5]
    RLlp10_14 = s.dpt[1,34]*C15
    RLlp10_24 = ROlp10_23*s.dpt[1,34]
    RLlp10_34 = ROlp10_33*s.dpt[1,34]
    POlp10_14 = RLlp10_14+s.dpt[1,5]
    POlp10_24 = POlp10_22+RLlp10_24
    POlp10_34 = RLlp10_32+RLlp10_34
    JTlp10_24_1 = -RLlp10_32-RLlp10_34
    JTlp10_34_1 = RLlp10_22+RLlp10_24
    JTlp10_14_3 = -RLlp10_24*ROlp10_92+RLlp10_34*ROlp10_82
    JTlp10_24_3 = RLlp10_14*ROlp10_92
    JTlp10_34_3 = -RLlp10_14*ROlp10_82
    Plp13 = -POlp10_14+POlp9_12
    Plp23 = -POlp10_24+POlp9_22
    P2lp3 = POlp10_34*POlp10_34+Plp13*Plp13+Plp23*Plp23
    l2rod3 = s.lrod[3]*s.lrod[3]
    h_9 = (0.50)*(P2lp3-l2rod3)
    Jac_9_24 = -Plp13*RLlp9_22+Plp23*RLlp9_12
    Jac_9_13 = -JTlp10_24_1*Plp23+JTlp10_34_1*POlp10_34
    Jac_9_14 = POlp10_34*RLlp10_24+Plp23*RLlp10_34
    Jac_9_15 = -JTlp10_14_3*Plp13-JTlp10_24_3*Plp23+JTlp10_34_3*POlp10_34
    ROlp12_82 = -S19*C20
    ROlp12_92 = C19*C20
    RLlp12_13 = s.dpt[3,39]*S20
    RLlp12_23 = ROlp12_82*s.dpt[3,39]+s.dpt[2,39]*C19
    RLlp12_33 = ROlp12_92*s.dpt[3,39]+s.dpt[2,39]*S19
    POlp12_13 = RLlp12_13+s.dpt[1,14]
    JTlp12_13_2 = -RLlp12_23*S19+RLlp12_33*C19
    JTlp12_23_2 = RLlp12_13*S19
    JTlp12_33_2 = -RLlp12_13*C19
    Plp14 = -POlp12_13+s.dpt[1,10]
    Plp24 = -RLlp12_23+s.dpt[2,10]
    Plp34 = -RLlp12_33+s.dpt[3,10]
    P2lp4 = Plp14*Plp14+Plp24*Plp24+Plp34*Plp34
    l2rod4 = s.lrod[4]*s.lrod[4]
    h_10 = (0.50)*(P2lp4-l2rod4)
    Jac_10_19 = Plp24*RLlp12_33-Plp34*RLlp12_23
    Jac_10_20 = -JTlp12_13_2*Plp14-JTlp12_23_2*Plp24-JTlp12_33_2*Plp34
    RLlp14_23 = s.dpt[2,46]*C19
    RLlp14_33 = s.dpt[2,46]*S19
    JTlp14_13_2 = -RLlp14_23*S19+RLlp14_33*C19
    Plp15 = -s.dpt[1,14]+s.dpt[1,15]
    Plp25 = -RLlp14_23+s.dpt[2,15]
    P2lp5 = Plp15*Plp15+Plp25*Plp25+RLlp14_33*RLlp14_33
    l2rod5 = s.lrod[5]*s.lrod[5]
    h_11 = (0.50)*(P2lp5-l2rod5)
    Jac_11_19 = Plp25*RLlp14_33+RLlp14_23*RLlp14_33
    Jac_11_20 = -JTlp14_13_2*Plp15
    RLlp16_23 = s.dpt[2,45]*C19
    RLlp16_33 = s.dpt[2,45]*S19
    JTlp16_13_2 = -RLlp16_23*S19+RLlp16_33*C19
    Plp16 = -s.dpt[1,14]+s.dpt[1,16]
    Plp26 = -RLlp16_23+s.dpt[2,16]
    P2lp6 = Plp16*Plp16+Plp26*Plp26+RLlp16_33*RLlp16_33
    l2rod6 = s.lrod[6]*s.lrod[6]
    h_12 = (0.50)*(P2lp6-l2rod6)
    Jac_12_19 = Plp26*RLlp16_33+RLlp16_23*RLlp16_33
    Jac_12_20 = -JTlp16_13_2*Plp16
    ROlp18_82 = -S19*C20
    ROlp18_92 = C19*C20
    RLlp18_13 = s.dpt[3,42]*S20
    RLlp18_23 = ROlp18_82*s.dpt[3,42]+s.dpt[2,42]*C19
    RLlp18_33 = ROlp18_92*s.dpt[3,42]+s.dpt[2,42]*S19
    POlp18_13 = RLlp18_13+s.dpt[1,14]
    JTlp18_13_2 = -RLlp18_23*S19+RLlp18_33*C19
    JTlp18_23_2 = RLlp18_13*S19
    JTlp18_33_2 = -RLlp18_13*C19
    Plp17 = -POlp18_13+s.dpt[1,11]
    Plp27 = -RLlp18_23+s.dpt[2,11]
    Plp37 = -RLlp18_33+s.dpt[3,11]
    P2lp7 = Plp17*Plp17+Plp27*Plp27+Plp37*Plp37
    l2rod7 = s.lrod[7]*s.lrod[7]
    h_13 = (0.50)*(P2lp7-l2rod7)
    Jac_13_19 = Plp27*RLlp18_33-Plp37*RLlp18_23
    Jac_13_20 = -JTlp18_13_2*Plp17-JTlp18_23_2*Plp27-JTlp18_33_2*Plp37
    h[1] = h_1
    h[2] = h_2
    h[3] = h_3
    h[4] = h_4
    h[5] = h_5
    h[6] = h_6
    h[7] = h_7
    h[8] = h_8
    h[9] = h_9
    h[10] = h_10
    h[11] = h_11
    h[12] = h_12
    h[13] = h_13
    Jac[1,1] = 0
    Jac[1,2] = 0
    Jac[1,3] = 0
    Jac[1,4] = 0
    Jac[1,5] = 0
    Jac[1,6] = 0
    Jac[1,7] = 0
    Jac[1,8] = 0
    Jac[1,9] = -JTlp2_14_3
    Jac[1,10] = 0
    Jac[1,11] = 0
    Jac[1,12] = 0
    Jac[1,13] = 0
    Jac[1,14] = 0
    Jac[1,15] = 0
    Jac[1,16] = 0
    Jac[1,17] = 0
    Jac[1,18] = 0
    Jac[1,19] = 0
    Jac[1,20] = 0
    Jac[1,21] = 0
    Jac[1,22] = 0
    Jac[1,23] = 0
    Jac[1,24] = 0
    Jac[2,1] = 0
    Jac[2,2] = 0
    Jac[2,3] = 0
    Jac[2,4] = 0
    Jac[2,5] = 0
    Jac[2,6] = 0
    Jac[2,7] = -JTlp2_24_1
    Jac[2,8] = RLlp2_34
    Jac[2,9] = 0
    Jac[2,10] = 0
    Jac[2,11] = 0
    Jac[2,12] = -RLlp1_32
    Jac[2,13] = 0
    Jac[2,14] = 0
    Jac[2,15] = 0
    Jac[2,16] = 0
    Jac[2,17] = 0
    Jac[2,18] = 0
    Jac[2,19] = 0
    Jac[2,20] = 0
    Jac[2,21] = 0
    Jac[2,22] = 0
    Jac[2,23] = 0
    Jac[2,24] = 0
    Jac[3,1] = 0
    Jac[3,2] = 0
    Jac[3,3] = 0
    Jac[3,4] = 0
    Jac[3,5] = 0
    Jac[3,6] = 0
    Jac[3,7] = -JTlp2_34_1
    Jac[3,8] = -RLlp2_24
    Jac[3,9] = 0
    Jac[3,10] = 0
    Jac[3,11] = 0
    Jac[3,12] = RLlp1_22
    Jac[3,13] = 0
    Jac[3,14] = 0
    Jac[3,15] = 0
    Jac[3,16] = 0
    Jac[3,17] = 0
    Jac[3,18] = 0
    Jac[3,19] = 0
    Jac[3,20] = 0
    Jac[3,21] = 0
    Jac[3,22] = 0
    Jac[3,23] = 0
    Jac[3,24] = 0
    Jac[4,1] = 0
    Jac[4,2] = 0
    Jac[4,3] = 0
    Jac[4,4] = 0
    Jac[4,5] = 0
    Jac[4,6] = 0
    Jac[4,7] = 0
    Jac[4,8] = 0
    Jac[4,9] = 0
    Jac[4,10] = 0
    Jac[4,11] = 0
    Jac[4,12] = 0
    Jac[4,13] = 0
    Jac[4,14] = 0
    Jac[4,15] = JTlp3_14_3
    Jac[4,16] = 0
    Jac[4,17] = 0
    Jac[4,18] = 0
    Jac[4,19] = 0
    Jac[4,20] = 0
    Jac[4,21] = 0
    Jac[4,22] = 0
    Jac[4,23] = 0
    Jac[4,24] = 0
    Jac[5,1] = 0
    Jac[5,2] = 0
    Jac[5,3] = 0
    Jac[5,4] = 0
    Jac[5,5] = 0
    Jac[5,6] = 0
    Jac[5,7] = 0
    Jac[5,8] = 0
    Jac[5,9] = 0
    Jac[5,10] = 0
    Jac[5,11] = 0
    Jac[5,12] = 0
    Jac[5,13] = JTlp3_24_1
    Jac[5,14] = -RLlp3_34
    Jac[5,15] = 0
    Jac[5,16] = 0
    Jac[5,17] = 0
    Jac[5,18] = RLlp4_32
    Jac[5,19] = 0
    Jac[5,20] = 0
    Jac[5,21] = 0
    Jac[5,22] = 0
    Jac[5,23] = 0
    Jac[5,24] = 0
    Jac[6,1] = 0
    Jac[6,2] = 0
    Jac[6,3] = 0
    Jac[6,4] = 0
    Jac[6,5] = 0
    Jac[6,6] = 0
    Jac[6,7] = 0
    Jac[6,8] = 0
    Jac[6,9] = 0
    Jac[6,10] = 0
    Jac[6,11] = 0
    Jac[6,12] = 0
    Jac[6,13] = JTlp3_34_1
    Jac[6,14] = RLlp3_24
    Jac[6,15] = 0
    Jac[6,16] = 0
    Jac[6,17] = 0
    Jac[6,18] = -RLlp4_22
    Jac[6,19] = 0
    Jac[6,20] = 0
    Jac[6,21] = 0
    Jac[6,22] = 0
    Jac[6,23] = 0
    Jac[6,24] = 0
    Jac[7,1] = 0
    Jac[7,2] = 0
    Jac[7,3] = 0
    Jac[7,4] = 0
    Jac[7,5] = 0
    Jac[7,6] = 0
    Jac[7,7] = 0
    Jac[7,8] = 0
    Jac[7,9] = 0
    Jac[7,10] = 0
    Jac[7,11] = 0
    Jac[7,12] = 0
    Jac[7,13] = 0
    Jac[7,14] = 0
    Jac[7,15] = 0
    Jac[7,16] = 0
    Jac[7,17] = 0
    Jac[7,18] = 0
    Jac[7,19] = 0
    Jac[7,20] = 0
    Jac[7,21] = 0
    Jac[7,22] = 0
    Jac[7,23] = Jac_7_23
    Jac[7,24] = Jac_7_24
    Jac[8,1] = 0
    Jac[8,2] = 0
    Jac[8,3] = 0
    Jac[8,4] = 0
    Jac[8,5] = 0
    Jac[8,6] = 0
    Jac[8,7] = Jac_8_7
    Jac[8,8] = Jac_8_8
    Jac[8,9] = Jac_8_9
    Jac[8,10] = 0
    Jac[8,11] = 0
    Jac[8,12] = 0
    Jac[8,13] = 0
    Jac[8,14] = 0
    Jac[8,15] = 0
    Jac[8,16] = 0
    Jac[8,17] = 0
    Jac[8,18] = 0
    Jac[8,19] = 0
    Jac[8,20] = 0
    Jac[8,21] = 0
    Jac[8,22] = 0
    Jac[8,23] = Jac_8_23
    Jac[8,24] = 0
    Jac[9,1] = 0
    Jac[9,2] = 0
    Jac[9,3] = 0
    Jac[9,4] = 0
    Jac[9,5] = 0
    Jac[9,6] = 0
    Jac[9,7] = 0
    Jac[9,8] = 0
    Jac[9,9] = 0
    Jac[9,10] = 0
    Jac[9,11] = 0
    Jac[9,12] = 0
    Jac[9,13] = Jac_9_13
    Jac[9,14] = Jac_9_14
    Jac[9,15] = Jac_9_15
    Jac[9,16] = 0
    Jac[9,17] = 0
    Jac[9,18] = 0
    Jac[9,19] = 0
    Jac[9,20] = 0
    Jac[9,21] = 0
    Jac[9,22] = 0
    Jac[9,23] = 0
    Jac[9,24] = Jac_9_24
    Jac[10,1] = 0
    Jac[10,2] = 0
    Jac[10,3] = 0
    Jac[10,4] = 0
    Jac[10,5] = 0
    Jac[10,6] = 0
    Jac[10,7] = 0
    Jac[10,8] = 0
    Jac[10,9] = 0
    Jac[10,10] = 0
    Jac[10,11] = 0
    Jac[10,12] = 0
    Jac[10,13] = 0
    Jac[10,14] = 0
    Jac[10,15] = 0
    Jac[10,16] = 0
    Jac[10,17] = 0
    Jac[10,18] = 0
    Jac[10,19] = Jac_10_19
    Jac[10,20] = Jac_10_20
    Jac[10,21] = 0
    Jac[10,22] = 0
    Jac[10,23] = 0
    Jac[10,24] = 0
    Jac[11,1] = 0
    Jac[11,2] = 0
    Jac[11,3] = 0
    Jac[11,4] = 0
    Jac[11,5] = 0
    Jac[11,6] = 0
    Jac[11,7] = 0
    Jac[11,8] = 0
    Jac[11,9] = 0
    Jac[11,10] = 0
    Jac[11,11] = 0
    Jac[11,12] = 0
    Jac[11,13] = 0
    Jac[11,14] = 0
    Jac[11,15] = 0
    Jac[11,16] = 0
    Jac[11,17] = 0
    Jac[11,18] = 0
    Jac[11,19] = Jac_11_19
    Jac[11,20] = Jac_11_20
    Jac[11,21] = 0
    Jac[11,22] = 0
    Jac[11,23] = 0
    Jac[11,24] = 0
    Jac[12,1] = 0
    Jac[12,2] = 0
    Jac[12,3] = 0
    Jac[12,4] = 0
    Jac[12,5] = 0
    Jac[12,6] = 0
    Jac[12,7] = 0
    Jac[12,8] = 0
    Jac[12,9] = 0
    Jac[12,10] = 0
    Jac[12,11] = 0
    Jac[12,12] = 0
    Jac[12,13] = 0
    Jac[12,14] = 0
    Jac[12,15] = 0
    Jac[12,16] = 0
    Jac[12,17] = 0
    Jac[12,18] = 0
    Jac[12,19] = Jac_12_19
    Jac[12,20] = Jac_12_20
    Jac[12,21] = 0
    Jac[12,22] = 0
    Jac[12,23] = 0
    Jac[12,24] = 0
    Jac[13,1] = 0
    Jac[13,2] = 0
    Jac[13,3] = 0
    Jac[13,4] = 0
    Jac[13,5] = 0
    Jac[13,6] = 0
    Jac[13,7] = 0
    Jac[13,8] = 0
    Jac[13,9] = 0
    Jac[13,10] = 0
    Jac[13,11] = 0
    Jac[13,12] = 0
    Jac[13,13] = 0
    Jac[13,14] = 0
    Jac[13,15] = 0
    Jac[13,16] = 0
    Jac[13,17] = 0
    Jac[13,18] = 0
    Jac[13,19] = Jac_13_19
    Jac[13,20] = Jac_13_20
    Jac[13,21] = 0
    Jac[13,22] = 0
    Jac[13,23] = 0
    Jac[13,24] = 0

# Number of continuation lines = 0


